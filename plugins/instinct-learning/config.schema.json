{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Instinct Learning Configuration",
  "description": "Configuration schema for the instinct-learning plugin",
  "type": "object",
  "properties": {
    "observation": {
      "type": "object",
      "description": "Observation capture settings",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable observation capture via hooks"
        },
        "max_file_size_mb": {
          "type": "integer",
          "default": 2,
          "description": "Maximum observations file size before rotation (MB)"
        },
        "max_archive_files": {
          "type": "integer",
          "default": 10,
          "description": "Maximum number of archived observation files to keep"
        },
        "archive_after_days": {
          "type": "integer",
          "default": 7,
          "description": "Days before observations are archived"
        },
        "capture_tools": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["Edit", "Write", "Bash", "Read", "Grep", "Glob"],
          "description": "Tools to capture observations for"
        },
        "ignore_tools": {
          "type": "array",
          "items": { "type": "string" },
          "default": ["TodoWrite", "TaskCreate", "TaskUpdate", "TaskList", "TaskGet"],
          "description": "Tools to ignore in observation capture"
        }
      }
    },
    "instincts": {
      "type": "object",
      "description": "Instinct management settings",
      "properties": {
        "min_confidence": {
          "type": "number",
          "default": 0.3,
          "minimum": 0,
          "maximum": 1,
          "description": "Minimum confidence threshold for instincts"
        },
        "auto_approve_threshold": {
          "type": "number",
          "default": 0.7,
          "minimum": 0,
          "maximum": 1,
          "description": "Confidence level for auto-approval"
        },
        "confidence_decay_rate": {
          "type": "number",
          "default": 0.02,
          "minimum": 0,
          "maximum": 0.1,
          "description": "Weekly confidence decay rate"
        },
        "max_instincts": {
          "type": "integer",
          "default": 100,
          "description": "Maximum number of instincts to retain"
        }
      }
    },
    "evolution": {
      "type": "object",
      "description": "Evolution settings",
      "properties": {
        "cluster_threshold": {
          "type": "integer",
          "default": 3,
          "description": "Minimum instincts required for clustering"
        },
        "auto_evolve": {
          "type": "boolean",
          "default": false,
          "description": "Enable automatic evolution"
        }
      }
    }
  }
}
